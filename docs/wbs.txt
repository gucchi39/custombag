推しバッグビルダー - WBS（作業分解図）
自分が持ち歩きたい推し活グッズを収納できるバッグがない人に、カスタム推しバックを提供します。
実際にリリースすることを見通しています。（Webアプリ？スマホアプリ？スマホかな）
=====================================

■ 1. ホームページ機能
│
├─ 1.1 ヒーローセクション
│   ├─ タイトル表示「推しが主役のバッグ、あなた仕様で。」
│   ├─ サブタイトル「見せる×入るを、自由設計。」
│   └─ 「カスタムをはじめる」ボタン → エディタページ遷移
│
├─ 1.2 機能紹介カード（3つ）
│   ├─ mm単位で正確配置
│   ├─ フィットチェック（持ち物の影）
│   └─ リアルタイム見積
│
├─ 1.3 テンプレート表示（3つ）
│   ├─ バッグイラストプレビュー
│   │   ├─ トートバッグ（ハンドル表示）
│   │   ├─ ショルダーバッグ（ストラップ表示）
│   │   ├─ バッグカラー反映
│   │   ├─ 窓の表示（角窓/丸窓）
│   │   ├─ ポケット表示
│   │   └─ 缶バッジパネル表示（カラフルバッジ3個）
│   ├─ テンプレート情報
│   │   ├─ タイトル
│   │   ├─ バッグタイプ（トート/ショルダー）
│   │   ├─ 要素数
│   │   └─ 価格表示
│   └─ クリックでテンプレート適用 → エディタ遷移
│
└─ 1.4 サンプルデータボタン
    ├─ 「🎉 サンプル投稿10個を見る」ボタン
    ├─ クリックで確認ダイアログ
    ├─ localStorageクリア
    └─ ギャラリーページへ遷移


■ 2. エディタページ機能
│
├─ 2.1 ツールバー（上部）
│   ├─ 保存ボタン（💾 保存）
│   ├─ Undo/Redoボタン
│   ├─ 公開/非公開切替ボタン
│   │   ├─ 🔒 投稿する（非公開時）
│   │   └─ 🌐 公開中（公開時）
│   ├─ エクスポート機能
│   │   ├─ PNG出力
│   │   ├─ PDF出力
│   │   ├─ JSON出力
│   │   └─ 共有コード生成・コピー
│   └─ ARプレビューボタン（📱 ARで確認）
│
├─ 2.2 左パネル - アイテムライブラリ（タブ式）
│   ├─ 🪟窓タブ
│   │   ├─ 長方形窓
│   │   └─ 丸窓
│   ├─ 👜機能タブ
│   │   ├─ 缶バッジパネル
│   │   ├─ ファスナーポケット
│   │   ├─ オープンポケット
│   │   └─ ハードウェア（Dリング等）
│   └─ 📦持ち物タブ
│       ├─ スマホ
│       ├─ 財布
│       ├─ ペットボトル
│       ├─ うちわ
│       ├─ ペンライト
│       └─ 双眼鏡
│
├─ 2.3 中央 - キャンバスエリア
│   ├─ バッグ本体表示
│   │   ├─ 3D風レンダリング
│   │   │   ├─ 側面パネル（darkenColor処理）
│   │   │   ├─ 底面パネル
│   │   │   ├─ シャドウ効果
│   │   │   └─ ステッチ装飾
│   │   ├─ ハンドル/ストラップ表示
│   │   │   ├─ トート：2本のハンドル
│   │   │   └─ ショルダー：ストラップ
│   │   └─ 背景グラデーション
│   ├─ 要素のドラッグ＆ドロップ配置
│   ├─ 要素の選択・編集
│   ├─ 縫い代ガイド表示（10mm）
│   └─ 衝突検出（リアルタイム）
│
├─ 2.4 右パネル - プロパティ＆見積
│   ├─ バッグ設定
│   │   ├─ タイトル入力
│   │   ├─ バッグタイプ選択（トート/ショルダー）
│   │   └─ カラーピッカー
│   ├─ 選択要素プロパティ
│   │   ├─ 座標（X, Y）
│   │   ├─ サイズ（幅、高さ、半径）
│   │   ├─ 角丸設定
│   │   ├─ 透明度設定
│   │   └─ 削除ボタン
│   └─ 価格見積表示
│       ├─ 基本料金
│       ├─ 要素別加算
│       └─ 合計金額（円）
│
└─ 2.5 自動保存機能
    ├─ 5秒ごとの自動保存
    └─ localStorageへの永続化


■ 3. AR プレビューモーダル
│
├─ 3.1 モーダル表示
│   ├─ 実寸サイズ表示（cm）
│   ├─ QRコードプレースホルダー
│   ├─ WebXR対応状況表示
│   └─ モバイルヒントテキスト
│
└─ 3.2 クローズ機能（3種類）
    ├─ 赤い円形Xボタン（右上）
    ├─ 「← 戻る」ボタン（下部）
    └─ 背景クリックで閉じる


■ 4. ギャラリーページ（SNS機能）
│
├─ 4.1 ヘッダー
│   ├─ タイトル「🎒 推しバッグギャラリー」
│   └─ サブタイトル「あなたの推しバッグをみんなとシェアしよう！」
│
├─ 4.2 フィルターバー
│   ├─ 表示フィルター
│   │   ├─ すべて
│   │   ├─ 🌐 公開中
│   │   └─ 🔒 非公開
│   ├─ ソート機能
│   │   ├─ 📅 新着順
│   │   ├─ 🔥 人気順（閲覧数）
│   │   └─ 💖 いいね順
│   └─ タグフィルター
│       ├─ すべて
│       └─ 各タグボタン（動的生成）
│
├─ 4.3 投稿カード（BagPostCard）
│   ├─ ヘッダー部
│   │   ├─ ユーザーアバター（頭文字表示）
│   │   ├─ 投稿者名
│   │   ├─ 相対時刻表示
│   │   │   ├─ 「たった今」
│   │   │   ├─ 「○分前」
│   │   │   ├─ 「○時間前」
│   │   │   ├─ 「○日前」
│   │   │   └─ 日付表示（7日以上前）
│   │   └─ メニューボタン（⋮）
│   │       ├─ 📤 シェア（共有コードコピー）
│   │       └─ 🗑️ 削除
│   ├─ バッグプレビュー
│   │   ├─ カスタム背景色（バッグ色に応じた淡色）
│   │   ├─ リアルタイムバッグイラスト
│   │   │   ├─ トート：ハンドル + 本体
│   │   │   ├─ ショルダー：ストラップ + 本体
│   │   │   ├─ 窓表示（丸/角）
│   │   │   ├─ 缶バッジパネル（3色バッジ）
│   │   │   └─ ポケット表示
│   │   ├─ サイズ表示バッジ（下部中央）
│   │   └─ クリックで編集画面へ遷移
│   ├─ コンテンツ部
│   │   ├─ タイトル（太字）
│   │   ├─ 説明文
│   │   ├─ タグ一覧（クリックでフィルター）
│   │   └─ 詳細情報
│   │       ├─ バッグタイプ（トート/ショルダー）
│   │       ├─ 要素数
│   │       └─ 価格
│   ├─ アクション部
│   │   ├─ いいねボタン
│   │   │   ├─ 未いいね：🤍 + カウント
│   │   │   ├─ いいね済み：💖 + カウント
│   │   │   └─ クリックでトグル＋カウント増加
│   │   ├─ コメントボタン（💬 + コメント数）
│   │   └─ 編集ボタン（✏️ 編集する）
│   ├─ コメントセクション（展開可能）
│   │   ├─ 既存コメント一覧
│   │   │   ├─ ユーザーアバター
│   │   │   ├─ 投稿者名
│   │   │   ├─ コメント本文
│   │   │   └─ 相対時刻
│   │   └─ コメント入力欄
│   │       ├─ テキスト入力
│   │       ├─ Enterキーで送信
│   │       └─ 送信ボタン
│   └─ 公開/非公開ボタン（右上）
│       ├─ 🌐 公開中（緑色）
│       └─ 🔒 非公開（グレー）
│
├─ 4.4 空状態表示
│   ├─ 「まだ公開投稿がありません」メッセージ
│   ├─ 「🎉 サンプル投稿を見る」ボタン
│   └─ 「新しいデザインを作成」ボタン
│
└─ 4.5 共有コードインポート
    ├─ 入力欄
    ├─ 読み込みボタン
    └─ デザイン復元 → エディタ遷移


■ 5. データ管理
│
├─ 5.1 Design型定義
│   ├─ 基本情報
│   │   ├─ id（ユニークID）
│   │   ├─ title（タイトル）
│   │   ├─ bagType（トート/ショルダー）
│   │   ├─ color（カラーコード）
│   │   ├─ widthMM（幅）
│   │   ├─ heightMM（高さ）
│   │   └─ seamMM（縫い代）
│   ├─ 要素配列（elements）
│   │   ├─ id
│   │   ├─ type（window/pocket/badge_panel等）
│   │   ├─ 座標（xMM, yMM）
│   │   ├─ サイズ（wMM, hMM, rMM）
│   │   ├─ zIndex
│   │   └─ props（各要素固有のプロパティ）
│   ├─ 価格（priceJPY）
│   ├─ タイムスタンプ（createdAt, updatedAt）
│   └─ SNS情報
│       ├─ isPublic（公開/非公開フラグ）
│       ├─ authorName（投稿者名）
│       ├─ description（説明文）
│       ├─ tags（タグ配列）
│       ├─ likes（いいね数）
│       ├─ comments（コメント配列）
│       └─ views（閲覧数）
│
├─ 5.2 Comment型定義
│   ├─ id
│   ├─ authorName
│   ├─ text
│   ├─ createdAt
│   └─ likes
│
├─ 5.3 State管理（Zustand）
│   ├─ designStore
│   │   ├─ currentDesign
│   │   ├─ selectedElementId
│   │   ├─ history（Undo/Redo用）
│   │   └─ 各種アクション
│   ├─ galleryStore
│   │   ├─ designs配列
│   │   ├─ loadDesigns
│   │   ├─ saveDesign
│   │   ├─ updateDesign
│   │   ├─ deleteDesign
│   │   └─ initializeSeeds
│   └─ toastStore
│       └─ show（通知表示）
│
└─ 5.4 サンプルデータ（10個）
    ├─ アニメ推しセット（245いいね、2コメント）
    ├─ K-POPライブ仕様（189いいね、1コメント）
    ├─ 2.5次元舞台用（312いいね、2コメント）
    ├─ 地下アイドル現場バッグ（156いいね、1コメント）
    ├─ VTuberグッズ用バッグ（423いいね、3コメント）
    ├─ シンプルイズベスト（89いいね、0コメント）
    ├─ 虹色推しバッグ（267いいね、1コメント）
    ├─ 実用性重視バッグ（198いいね、2コメント）
    ├─ エレガント推しバッグ（134いいね、1コメント）
    └─ ゆめかわいいバッグ（512いいね、3コメント）


■ 6. 技術スタック
│
├─ 6.1 フロントエンド
│   ├─ React 18（TSX）
│   ├─ TypeScript
│   ├─ React Router（ページ遷移）
│   └─ Tailwind CSS（スタイリング）
│
├─ 6.2 状態管理
│   └─ Zustand
│
├─ 6.3 Canvas描画
│   └─ React-Konva（2Dグラフィックス）
│
├─ 6.4 ビルドツール
│   ├─ Vite 5.4.20
│   └─ キャッシュバスティング設定
│       ├─ usePolling: true
│       ├─ optimizeDeps.force: true
│       └─ no-cacheヘッダー
│
├─ 6.5 データ永続化
│   └─ localStorage
│       └─ キー：'oshi_bag_designs'
│
└─ 6.6 開発環境
    ├─ VS Code
    ├─ 自動起動タスク設定
    ├─ 起動.bat（Windowsバッチファイル）
    └─ ポート：5173/5174/5175（自動切替）


■ 7. ユーティリティ機能
│
├─ 7.1 エクスポート機能
│   ├─ PNG出力（Konva.toDataURL）
│   ├─ PDF出力（jsPDF）
│   ├─ JSON出力（ダウンロード）
│   └─ 共有コード（Base64エンコード）
│
├─ 7.2 インポート機能
│   ├─ 共有コードデコード
│   └─ デザイン復元
│
├─ 7.3 衝突検出
│   ├─ 要素間の重なり判定
│   └─ 縫い代との衝突判定
│
└─ 7.4 価格計算
    ├─ 基本料金（バッグタイプ別）
    ├─ 要素別加算
    │   ├─ 窓：+500円
    │   ├─ ポケット：+300円
    │   ├─ 缶バッジパネル：+400円
    │   └─ ハードウェア：+200円
    └─ リアルタイム更新


■ 8. UI/UXデザイン
│
├─ 8.1 カラースキーム
│   ├─ プライマリ：紫〜ピンクグラデーション
│   ├─ 背景：淡いグラデーション（紫→ピンク→青）
│   └─ アクセント：各種絵文字アイコン
│
├─ 8.2 レスポンシブデザイン
│   ├─ デスクトップ最適化
│   └─ モバイル対応（一部）
│
├─ 8.3 インタラクション
│   ├─ ホバー効果
│   ├─ クリックフィードバック
│   ├─ ドラッグ＆ドロップ
│   └─ トースト通知
│
└─ 8.4 アニメーション
    ├─ ページ遷移
    ├─ モーダル表示
    └─ ボタントランジション


■ 9. 今後の拡張可能性
│
├─ 9.1 バックエンド連携
│   ├─ ユーザー認証
│   ├─ データベース永続化
│   └─ 画像アップロード
│
├─ 9.2 実装予定機能
│   ├─ 実際のAR機能（WebXR）
│   ├─ 注文・決済機能
│   ├─ プロフィールページ
│   └─ 通知機能
│
└─ 9.3 改善項目
    ├─ SEO対応
    ├─ パフォーマンス最適化
    ├─ アクセシビリティ向上
    └─ テストカバレッジ拡充